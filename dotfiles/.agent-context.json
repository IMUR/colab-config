{
  "directory_type": "user_configuration",
  "management_tool": "chezmoi",
  "purpose": "Node-aware user environment management",
  "scope": "home_directory_only",

  "templating": {
    "engine": "go_template",
    "node_detection": "automatic_via_hostname",
    "variables_source": ".chezmoi.toml.tmpl",
    "node_specific_vars": {
      "crtr": {
        "role": "gateway",
        "special_configs": ["nfs_mounts", "service_ports"]
      },
      "prtr": {
        "role": "compute",
        "special_configs": ["gpu_tools", "cuda_paths"]
      },
      "drtr": {
        "role": "ml_platform",
        "special_configs": ["ml_frameworks", "jupyter"]
      }
    }
  },

  "safe_operations": [
    "template_customization",
    "variable_modification",
    "diff_preview",
    "dry_run_apply",
    "documentation_update"
  ],

  "validation_commands": [
    "chezmoi diff",
    "chezmoi execute-template --init < /dev/null",
    "chezmoi verify",
    "chezmoi doctor"
  ],

  "file_patterns": {
    "templates": "*.tmpl",
    "dotfiles": "dot_*",
    "exact_files": "exact_*",
    "private_files": "private_*",
    "executable": "executable_*"
  },

  "common_tasks": {
    "add_new_dotfile": "Create dot_FILENAME.tmpl with proper templating",
    "node_customization": "Use {{ if eq .chezmoi.hostname \"NODE\" }} blocks",
    "apply_changes": "Always chezmoi diff first, then apply",
    "test_template": "chezmoi execute-template < FILE.tmpl"
  },

  "constraints": [
    "Never store secrets in templates",
    "Always use node variables for customization",
    "Preserve existing user configurations",
    "Document all template variables"
  ]
}
